{% extends "base.jinja" %}
{% from "common.jinja" import breadcrumb %}

{% block title %}GitHub Sync{% endblock %}

{% block introduction %}<h1>GitHub Sync</h1>{% endblock %}

{% block content %}
{{ breadcrumb([
{'url': url('library:codebase-list'), 'text': 'Computational Model Library' },
{'url': url('library:codebase-detail', codebase.identifier), 'text': codebase.title|truncate(68) },
{'text': 'GitHub Sync' },
]) }}
<h1 class="codebase-title mb-3">
    Configure GitHub Sync for <i>{{ codebase.title }}</i>
</h1>
<p>
    GitHub Sync allows you to connect your model in the CoMSES Model Library (CML) to a GitHub
    repository.
</p>
<p>
    When creating a new repository here, a git repo will be automatically built from the public
    releases of your model and <b><u>pushed</u> to GitHub</b>.  This will be updated every time you
    publish a new release or update the metadata of an existing one, until it is disabled.
</p>
<p>
    Changes made to synced repositories on GitHub can be automically pulled back into the CML by
    enabling <b><u>archiving</u> from GitHub</b> and creating a new release on GitHub. This works
    similarly to the <i>Zenodo</i> GitHub integration.
</p>
<p>
    <a href="{{ url('library:github-sync-overview') }}">Learn more about how it works <i class="fas fa-chevron-right"></i></a>
</p>
<hr />
<div class='my-3' id="github-sync" data-codebase-identifier="{{ codebase.identifier }}"
    data-github-org-name="{{ github_org_name }}" data-default-repo-name="{{ slugify(codebase.title) }}"></div>
{% endblock %}

{% block js %}
{{ vite_asset("apps/github_sync.ts") }}
{% endblock %}