{% extends "base.jinja" %}
{% from "common.jinja" import retrieve_introduction %}

{% block title %}{{ title }}{% endblock %}

{% block introduction %}{{ retrieve_introduction('CoMSES Net Codebase Library') }}{% endblock %}

{% block content %}
    {# XXX: hard-coded breadcrumb trail #}
    <small>
        <ol class='breadcrumb'>
            <li class='breadcrumb-item'><a href='/'>Home</a></li>
            <li class='breadcrumb-item'><a href='{{ url('library:codebase-list') }}'>Codebase Library</a></li>
            <li class='breadcrumb-item active'>{{ title }}</li>
        </ol>
    </small>
    <div class='row'>
        <div class='col-md-9'>
            <h1 class="pb-4">{{ title }}</h1>
            {{ markdown(description)|safe }}
        </div>
        <div class="col-md-3">
            <div class='card'>
                <div class='card-header'>
                    {% if peer_reviewed %}
                        <i class='fa fa-trophy fa-2x'></i>
                    {% endif %}
                    Metadata
                </div>
                <div class='card-block'>
                    <h5 class='card-title'>Authors</h5>
                    <p class='card-text'>
                        {% for c in contributors %}
                            {{ c.contributor.name }}
                            {{ c.affiliations }}
                        {% endfor %}
                    </p>
                    <h5 class='card-title'>Publish Date</h5>
                    <p class='card-text'>
                        {{ first_published_at }}
                    </p>

                    <h5 class='card-title'>Last Updated</h5>
                    <p class='card-text'>
                        {{ last_modified }}
                    </p>

                </div>
            </div>
            <div class="card my-2">
                <div class="card-block">
                    <button type="button" class="col-12 my-1 btn btn-primary">Download</button>
                    <button type="button" class="col-12 my-1 btn btn-primary">Follow</button>
                </div>
            </div>
            <div class="card my-2">
                <div class="card-block">
                    <b>Share</b>
                    <span class="col-2 fa fa-linkedin-square"></span>
                    <span class="col-2 fa fa-facebook-square"></span>
                    <span class="col-2 fa fa-twitter-square"></span>
                    <span class="col-2 fa fa-envelope-square"></span>
                </div>
            </div>
        </div>
    </div>
{% endblock %}